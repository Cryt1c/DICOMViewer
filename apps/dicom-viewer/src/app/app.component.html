<main>
  <mat-sidenav-container>
    <mat-sidenav mode="side" opened disableClose>
      <dicom-tree
        [dicomHierarchy]="dicomHierarchy"
        (setSeriesFilter)="setSeriesFilter($event)"
        (resetFilter)="resetFilter()">
      </dicom-tree>
    </mat-sidenav>
    <mat-sidenav-content>
      <mat-spinner
        diameter="48"
        *ngIf="loading(); else uploadButton"></mat-spinner>
      <ng-template #uploadButton>
        <button type="button" mat-flat-button (click)="fileinput.click()">
          Upload file(s)
        </button>
      </ng-template>
      <input
        type="file"
        #fileinput
        multiple
        hidden
        (change)="handleFiles($event)" />
      <dicom-renderer
        [dicomViewer]="dicomViewer"
        [metadata]="metadata"
        (getMetadata)="getMetadata()">
      </dicom-renderer>
    </mat-sidenav-content>
  </mat-sidenav-container>
</main>

<router-outlet />
