<main>
  <mat-sidenav-container>
    <mat-sidenav mode="side" opened disableClose>
      <dicom-tree
        [dicomHierarchy]="dicomHierarchy"
        (instanceSelected)="renderInstance($event)">
      </dicom-tree>
    </mat-sidenav>
    <mat-sidenav-content class="container">
      <button type="button" mat-flat-button (click)="fileinput.click()">
        Upload file(s)
      </button>
      <input
        type="file"
        #fileinput
        multiple
        hidden
        (change)="handleFiles($event)" />
      <canvas
        id="viewer-canvas"
        width="512"
        height="512"
        (wheel)="handleWheel($event)"></canvas>
      <div *ngIf="metadata()?.total && !loading()">
        <div>
          Showing image {{ userCurrentIndex() }} of {{ metadata()?.total }}
        </div>
        <br />
        <div>Use scroll wheel to navigate through images</div>
      </div>
      <div *ngIf="loading()">
        <mat-spinner></mat-spinner>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</main>

<router-outlet />
